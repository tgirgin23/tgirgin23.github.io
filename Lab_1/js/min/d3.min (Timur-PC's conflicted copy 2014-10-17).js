window.onload=function(){var t={top:30,right:20,bottom:30,left:50},a=600-t.left-t.right,n=270-t.top-t.bottom,r=d3.time.format("%-y").parse,e=d3.scale.linear().domain([0,100]),o=d3.scale.linear().range([n,0]),s=d3.svg.axis().scale(e).orient("bottom").ticks(3),i=d3.svg.axis().scale(o).orient("left").ticks(5),d=d3.svg.line().x(function(t){return e(t.years)}).y(function(t){return o(t.y2005)}),l=d3.select("body").append("svg").attr("width",a+t.left+t.right).attr("height",n+t.top+t.bottom).append("g").attr("transform","translate("+t.left+","+t.top+")");d3.csv("data/points(1).csv",function(t,a){a.forEach(function(t){t.years>0&&(t.years=r(t.years)),console.log(t.years),t.y2005=t.y2005});var c=d3.max(a,function(t){return t.years});o.domain([0,c]),e.domain(d3.extent(a,function(t){return t.years})),o.domain([0,d3.max(a,function(t){return t.y2005})]),l.append("path").attr("class","line").attr("d",d(a)),l.append("g").attr("class","x axis").attr("transform","translate(0,"+n+")").call(s),l.append("g").attr("class","y axis").call(i)})};