!function(){function e(e,t){for(var n in t)"undefined"==typeof e[n]&&(e[n]=t[n]);return e}function t(e,t){for(var n=0;n<e.length;n++)if(e[n]==t)return!0;return!1}var n,o,y={},i={mouse:["click","mousedown","mouseup","mousemove","mouseover","mouseout"],key:["keydown","keyup","keypress"]};y.makeEvent=function(n){var o;return t(i.key,n.type)?"function"==typeof Event?(o=new Event(n.type),o.keyCode=n.keyCode||0,o.charCode=n.charCode||0,o.shiftKey=n.shiftKey||!1,o.metaKey=n.metaKey||!1,o.ctrlKey=n.ctrlKey||!1,o.altKey=n.altKey||!1):(o=document.createEvent("KeyboardEvent"),o[o.initKeyEvent?"initKeyEvent":"initKeyboardEvent"](n.type,!0,!0,null,n.ctrlKey||!1,n.altKey||!1,n.shiftKey||!1,n.metaKey||!1,n.keyCode||0,n.charCode||0),(o.ctrlKey!=(n.ctrlKey||0)||o.altKey!=(n.altKey||0)||o.shiftKey!=(n.shiftKey||0)||o.metaKey!=(n.metaKey||0)||o.keyCode!=(n.keyCode||0)||o.charCode!=(n.charCode||0))&&(o=document.createEvent("Event"),o.initEvent(n.type,!0,!0),o.ctrlKey=n.ctrlKey||!1,o.altKey=n.altKey||!1,o.shiftKey=n.shiftKey||!1,o.metaKey=n.metaKey||!1,o.keyCode=n.keyCode||0,o.charCode=n.charCode||0)):"undefined"==typeof document.createEvent&&"undefined"!=typeof document.createEventObject?(o=document.createEventObject(),e(o,n)):"undefined"!=typeof document.createEvent&&(o=document.createEvent("MouseEvents"),o.initMouseEvent(n.type,!0,!0,window,n.detail||0,n.screenX||0,n.screenY||0,n.clientX||0,n.clientY||0,n.ctrlKey||0,n.altKey||!1,n.shiftKey||!1,n.metaKey||!1,n.button||!1,null)),o},y.dispatchEvent=function(e,t){"undefined"!=typeof e.dispatchEvent?e.dispatchEvent(t):"undefined"!=typeof e.fireEvent&&e.fireEvent("on"+t.type,t)},y.once=function(e,t){y.dispatchEvent(e,y.makeEvent(t||{}))};for(var r in i)if(i.hasOwnProperty(r)){var c=i[r];for(o=0;o<c.length;o++)n=c[o],y[n]=function(t){return function(n,o){y.once(n,e(o||{},{type:t}))}}(n)}y.dblclick=function(t,n){y.once(t,e(n||{},{type:"dblclick",detail:2}))},"undefined"!=typeof window&&(window.happen=y),"undefined"!=typeof module&&(module.exports=y),"undefined"!=typeof jQuery&&jQuery.fn&&(jQuery.fn.happen=function(e){"string"==typeof e&&(e={type:e});for(var t=0;t<this.length;t++)happen.once(this[t],e);return this})}(this);