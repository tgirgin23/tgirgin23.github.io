window.onload=function(){var t={top:30,right:20,bottom:30,left:50},a=600-t.left-t.right,n=270-t.top-t.bottom,e=d3.time.format("%Y").parse,r=new Date(e.trim());console.log(r);var o=d3.scale.linear().domain([0,100]),s=d3.scale.linear().range([n,0]),i=d3.svg.axis().scale(o).orient("bottom").ticks(5),l=d3.svg.axis().scale(s).orient("left").ticks(5),d=d3.svg.line().x(function(t){return o(t.years)}).y(function(t){return s(t.y2005)}),c=d3.select("body").append("svg").attr("width",a+t.left+t.right).attr("height",n+t.top+t.bottom).append("g").attr("transform","translate("+t.left+","+t.top+")");d3.csv("data/points(1).csv",function(t,a){a.forEach(function(t){t.years>0&&(t.years=e(t.years)),console.log(t.years),t.y2005=t.y2005});var r=d3.max(a,function(t){return t.years});s.domain([0,r]),o.domain(d3.extent(a,function(t){return t.years})),s.domain([0,d3.max(a,function(t){return t.y2005})]),c.append("path").attr("class","line").attr("d",d(a)),c.append("g").attr("class","x axis").attr("transform","translate(0,"+n+")").call(i),c.append("g").attr("class","y axis").call(l)})};